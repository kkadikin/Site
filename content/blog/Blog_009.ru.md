---
title: Мелкие радости - конструкции Related и Lookupvalue
date: 2019-11-01
image: images/blog/blog_009_foto.jpg
author: Smile
---

> *Рвав-рвав, сегодня я -- собака-двередержака!*
>
> *Перед вами -- 7-я заметка из нашего цикла "Мелкие радости", и ниже мы рассмотрим использование таких конструкций, как Related и Lookupvalue. При помощи данных функций можно присоединять данный, содержащиеся в разных таблицах, друг с другом.*


**Пример:**

**<li>** Имеется 2 набора данных, содержащих различную информацию, но при этом в каждом из набоов пристствует уникальный ключ:

![blog_009_screen_1] (https://kkadikin.ru/images/blog/blog_009_screen_1.jpg)

*Кстати, если ключ отсутствует, не опускать хвост ни в коем разе, его всегда можно сделать самостоятельно, лишь бы данные обоих наборов были хоть как-то сопоставимы.*

**Задача:**

Собрать данные из обоих наборов в одном визуальном элементе, например, в элементе "Table" ("Таблица").


**Использование функционала**

**<li>** Если мы можем связать данные посредством имеющегося ключа, и у нас не стоит задачи объединения данных в одну сущность, то все что необходимо сделать -- это настроить нужную свзязь на уровне модели:

![blog_009_screen_2] (https://kkadikin.ru/images/blog/blog_009_screen_2.jpg)



**Многосоставное условие:**

**<li>** Если необходимый результат зависит от выполнения комплекса условий (см. дополнительно столбец "Критерий 1"), то исходную конструкцию необходимо дополнить следующим образом:

```dax
Конструкция Switch - True =
SWITCH (
    TRUE ();
    'Dataset'[Критерий 1] = "Джек-рассел-терьер"
        && 'Dataset'[Критерий 2] = "Собака Смайл"; "Молодец!";
    'Dataset'[Критерий 1] = "Йоркширский терьер"
        && 'Dataset'[Критерий 2] = "Песик Тедди"; "Умница :-)";
    "Мы еще не определились :-Р"
)
```

![blog_008_screen_3] (https://kkadikin.ru/images/blog/blog_008_screen_3.jpg)

*В данном случае мы однозначно утверждаем, что собака Смайл, являющийся Джек-рассел-терьером -- молодец, Йоркширский терьер песик Тедди -- умница, а про всех остальных мы ничего не знаем.*

**<li>** Однако, следует иметь в виду, что указанная конструкция предусматиривает выполнение всех заданных условий, в противном случае результат  будет неотличим от общей массы:

```dax
Невыполнение условий =
SWITCH (
    TRUE ();
    'Dataset'[Критерий 1] = "Немецкая овчарка"
        && 'Dataset'[Критерий 2] = "Собака Смайл"; "Молодец!";
    'Dataset'[Критерий 1] = "Йоркширский терьер"
        && 'Dataset'[Критерий 2] = "Песик Тедди"; "Умница :-)";
    "Мы еще не определились :-Р"
)
```
![blog_008_screen_4] (https://kkadikin.ru/images/blog/blog_008_screen_4.jpg)

*В данном случае мы однозначно утверждаем, что собака Смайл, не являющийся Джек-рассел-терьером, никакой не молодец.*

> *Всегда на стреме,*
>
> *Ваш Смайл*