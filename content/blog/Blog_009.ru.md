---
title: Мелкие радости - конструкции Related и Lookupvalue
date: 2019-11-01
image: images/blog/blog_008_foto.jpg
author: Smile
---

> *Рвав-рвав, сегодня я -- собака-двередержака!*
>
> *Перед вами -- 7-я заметка из нашего цикла "Мелкие радости", и ниже мы рассмотрим использование таких конструкций, как Related и Lookupvalue. При помощи данных функций  *


**Пример:**

**<li>** Имеется набор данных, содержащий 2 критерия, в зависимости от которых нам нужно обогатить исходные данные:

![blog_008_screen_1] (https://kkadikin.ru/images/blog/blog_008_screen_1.jpg)


**Задача:**

Продемонстрировать варианты использования функции Switch.


**Односоставное условие:**

**<li>** Если необходимый результат зависит от выполнения одного условия (см. столбец "Критерий 2"), то можно использовать простую конструкцию следующего вида:

```dax
Конструкция Switch =
SWITCH (
    'Dataset'[Критерий 2];
    "Собака Смайл"; "Молодец!";
    "Песик Тедди"; "Умница :-)";
    "Мы еще не определились :-Р"
)
```

**Многосоставное условие:**

**<li>** Если необходимый результат зависит от выполнения комплекса условий (см. дополнительно столбец "Критерий 1"), то исходную конструкцию необходимо дополнить следующим образом:

```dax
Конструкция Switch - True =
SWITCH (
    TRUE ();
    'Dataset'[Критерий 1] = "Джек-рассел-терьер"
        && 'Dataset'[Критерий 2] = "Собака Смайл"; "Молодец!";
    'Dataset'[Критерий 1] = "Йоркширский терьер"
        && 'Dataset'[Критерий 2] = "Песик Тедди"; "Умница :-)";
    "Мы еще не определились :-Р"
)
```

![blog_008_screen_3] (https://kkadikin.ru/images/blog/blog_008_screen_3.jpg)

*В данном случае мы однозначно утверждаем, что собака Смайл, являющийся Джек-рассел-терьером -- молодец, Йоркширский терьер песик Тедди -- умница, а про всех остальных мы ничего не знаем.*

**<li>** Однако, следует иметь в виду, что указанная конструкция предусматиривает выполнение всех заданных условий, в противном случае результат  будет неотличим от общей массы:

```dax
Невыполнение условий =
SWITCH (
    TRUE ();
    'Dataset'[Критерий 1] = "Немецкая овчарка"
        && 'Dataset'[Критерий 2] = "Собака Смайл"; "Молодец!";
    'Dataset'[Критерий 1] = "Йоркширский терьер"
        && 'Dataset'[Критерий 2] = "Песик Тедди"; "Умница :-)";
    "Мы еще не определились :-Р"
)
```
![blog_008_screen_4] (https://kkadikin.ru/images/blog/blog_008_screen_4.jpg)

*В данном случае мы однозначно утверждаем, что собака Смайл, не являющийся Джек-рассел-терьером, никакой не молодец.*

> *Всегда на стреме,*
>
> *Ваш Смайл*