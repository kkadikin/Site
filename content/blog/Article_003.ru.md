---
title: Использование мер в качестве переключателя
date: 2019-07-15
image: images/blog/art_003_foto.jpg
author: Smile
---

> *Рвав-рвав, пес Смайл приветстствует аудиторию!*
>
> *Поскольку я пес молодой, и на память не жалуюсь, в своей статье о 1-й разработке [Производственный календарь](https://kkadikin.ru/ru/blog/dev_001/) я обещал рассказать о таком понятии, как "переключаемая мера", это может пригодитьься, например, при реализации концепции мультивалютной отчетности, то есть пересчета исходных данных в локальной валюте в другие денежные единицы. Данные в рублях мы будем пересчитывать в доллары и евро.*
>
> *В общем случае, конечно, данную метоту можно применять при реализации любых отчетов, приложив немного дополнительных услилий, вы, тем самым, обеспечите удобство конечных пользователей. Сама идея, конечно, не нова, материалов на этот счет в сети довольно много.*

Для построения обозначенного примера, нам необходимы исходные данные следующего вида:

![art_003_screen_1](https://kkadikin.ru/images/blog/art_003_screen_1.jpg)

> *Пример с реализацией мультивалютной отчетности выбран не просто так, поскольку обожаемый хозяин часто сталкивается в своей работе с подобными запросами клиентов. Например, пересчет в другие валюты активно используется при планировании бюджета компании, при этом часто бывает так, что в процессе бюджетного года планы еще корректируются :-)*

**Пояснения примера:**

**<li>** визуальный элемент "Курсы валют" -- cодержит плановые курсы на определенную дату для российского рубля (RUR), доллара США (USD), и евро (EUR), то есть это обычный справочник;

**<li>** визуальный элемент "Набор данных" -- cодержит суммы в локальной валюте (RUR), для которых необходимо сделать пересчет, также на определенную дату.

**Процесс разработки:**

**<li>** создана таблица "Dataset" -- таблица, содержащая входящие данные, а именно столбцы "Дата" и "Оригинальная сумма", таблица создана на уровне Power Query.

**<li>** создана таблица "Exchange rates" -- таблица, содержащая входящие данные, а именно столбцы "Код валюты", "Дата" и "Курс валюты", таблица создана на уровне Power Query.

**<li>** создана таблица "Slicer" -- таблица, представляющая собой справочник валютных кодов, созданный на уровне DAX, при помощи следующей формулы:

Slicer = 

DISTINCT (
    SELECTCOLUMNS ( 'Exchange rates'; "Код валюты"; 'Exchange rates'[Код валюты] )
)


> *Рвав-рвав, на этом, собственно, все.*

> *Пойду на прогулку, на улице дождь, но правильной собаке это не помеха!*

> *Ваш Смайл.*

