---
title: Мелкие радости - обнаружение повторяющихся значений
date: 2021-07-25
image: images/blog/blog_016_foto.jpg
author: Smile
---

> *Рвав-рвав, сегодня я -- собака-ушкинавостряка!*
>
> *Перед вами -- 11-я заметка из нашего цикла "Мелкие радости", такую задачку, как обнаружение повторяющихся значений. Чкстно скажу, заметка будет маленькая, и ничего особого тут нет, однако оказалось, что это востребовано, так что "получите - распишитесь".*


**Пример:**

В качестве исходных данных имеется набор, содержащий номер заказа и соответствующие ему товары:

![blog_016_screen_1](https://kkadikin.ru/images/blog/blog_016_screen_1.jpg)


**Задача:**

Необходимо посчитать для определенного товара количество его повторений в рамках заказа, а для самого заказа -- общее количество товаров.

**Решение при помощи расчетного столбца**

**<li>** Для подсчета дублирующих позиций можно написать следующую формулу:

```dax
Дублирование (столбец) = 
CALCULATE (
    COUNT ( 'Таблица'[Товар] ),
    ALLEXCEPT ( 'Таблица', 'Таблица'[Заказ], 'Таблица'[Товар] )
)
```

**<li>** Проверка получившегося результата:

![blog_016_screen_2](https://kkadikin.ru/images/blog/blog_016_screen_2.jpg)

**Решение при помощи меры**

```dax
Дублирование (мера) = 
COUNTROWS('Таблица')
```

**<li>** Проверка получившегося результата:

![blog_016_screen_3](https://kkadikin.ru/images/blog/blog_016_screen_3.jpg)


> *Рвав-рвав, ну как-то так...*
>
> *Ваш Смайл*
