---
title: Статистика веб-сайта
date: 2021-09-04
image: images/blog/dev_007_foto.jpg
author: Smile
---

> *Рвав-рвав, собака Смайл пробует на зуб Яндекс Метрику!*
>
> *Прежде, чем начать описание разработки, хочется выразить благодарность [Александру Морину](http://directprobi.ru) и [Максиму Уварову](https://needfordata.ru) за создание кастомного коннектора. Также хочется предупредить, что "разборки" с самой Яндекс Метрикой, потребовавшие с моей стороны немалых сил, остаются за рамками данной статьи.*

![Статистика сайта](https://kkadikin.ru/images/blog/dev_007_screen.jpg)

Отчет реализован при помощи DAX и Power Query.


**Разработка содержит 3 листа:**

**<li>** Лист "Просмотры" -- титульный лист отчета, содержащий данные о количествах просмотра определенного тематического контента.

**<li>** Лист "Сеансы" -- дополнительный лист отчета, содержащий данные о количестве посетителей сайта в определенных разрезах.

**<li>** Лист "Информация" -- памятка пользователя.


**Используемые элементы:**

**<li>** Кнопки.

**<li>** Иконки.

**<li>** Подсказки.

**<li>** В качестве основного элемента используется "Matrix" ("Матрица"), а дополнительного -- "Card" ("Карточка").

**<li>** Дополнительные украшательства -- "Text box" ("Текстовое поле"), "Shapes" ("Фигуры").


**Процесс разработки:**

**<li>** Для указания базового промежутка времени на уровне Power Query были созданы параметры "Начало периода" и "Конец периода" -- это даты начала и окончания периода, которые выведены в название отчета.

**<li>** Создана таблица "Меры" -- техническая таблица, созданная для удобства.

**<li>** Создана таблица "Параметры" -- содержит параметры отчета для указания необходимого отрезка времени.

**<li>** Создана таблица "Контент сайта" -- таблица содержит перечень всех существующих страниц сайта с разделением по категориям.

**<li>** Создана таблица "Тип контента" -- таблица-справочник, содержащая категорию контента.

**<li>** Создана таблица "Статистика просмотра" -- таблица, полученная при помощи кастомного коннектора, и содержащая информацию о просмотрах сайта, а также идентификатор каждого посетителя.

**<li>** Создана таблица «Статистика сеанса» – таблица, полученная при помощи кастомного коннектора, и содержащая информацию о визитах, посетителях и географической точке конкретного сеанса.

На этом работы с Power Query завершены.

**<li>** На уровне модели данных создана таблица "Календарь" -- базовая таблица, определяющая набор дат для расчета.

**<li>** Следующим этапом является проверка связей получившейся модели данных, и их корректировка в случае необходимости. Схема связей представлена ниже:

![dev_007_relations](https://kkadikin.ru/images/blog/dev_007_relations.jpg)

**<li>** Затем, при помощи DAX, начинаем формировать нужные аналитические разрезы, например, производим ранжирование количества просмотров.

**<li>** Когда все готово, можно приступать к визуализации данных.

**<li>** Создаем подсказку для иллюстрации содержания контента.

**<li>** Последний шаг -- это дизайн, реализованный в соответствии с предыдущими отчетами серии.



**Особенности разработки:**

**<li>** Для получения данных при помощи кастомного коннектора Яндекс Метрика необходимо произвести довольно много предварительных настроек, например, установить счетчик на сайт.

**<li>** Некоторые показатели Яндекс Метрики лично у меня вызывают некоторые вопросы, но при реализации отчет, полученный в Power BI, совпадает с показателями Яндекс Метрики.


> *Рвав-рвав, собака Смайл обещает подумать насчет того, чтобы встроить данную разработку непосредственно в сайт.*
>
> *С наступлением осени вас, дамы и господа!*
> 
> *Ваш Смайл*


**ДЛЯ ЛЮБИТЕЛЕЙ ПОНАЖИМАТЬ НА КНОПОЧКИ**

