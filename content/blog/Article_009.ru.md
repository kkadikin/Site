---
title: Нестандартная сортировка
date: 2019-11-22
image: images/blog/art_009_foto.jpg
author: Smile
---

> *Рвав-рвав, собака Смайл опять с вами!*
>
> *Есть просто отличная новость: любопытный пес изыскал возможность вложенной сортировки данных, несмотря на то, что сортировка возможна как бы по одному столбцу...*

**Пример:**

Имеется набор данных следующего вида: 

-- оборудование и порядковый номер для его сортировки;

-- устройства и порядковый номер для их сортировки.

![art_009_screen_1](https://kkadikin.ru/images/blog/art_009_screen_1.jpg)

**Задача:**

На основе представленных данных построить матрицу, в которой на верхнем уровне расположено оборудование, а на нижнем -- соответствующее устройства. При этом и список оборудования, и список устройств должны иметь строго определенный порядок, соответствующий указанному номеру. 

> *Вроде бы, ничего сложного, однако, помимо всего прочего, список устройств для каждого оборудования имеет собственный порядок*

**Возможности сортировки "из коробки":**

**<li>** Используя визуальный элемент "Matrix" ("Матрица"), не применяя при этом сортировку, мы можем получить следующий результат:

![art_009_screen_2](https://kkadikin.ru/images/blog/art_009_screen_2.jpg)

При сборке матрицы, в качестве варианта "по умолчанию", значения в столбце "Оборудование" будут отсортированы по возрастанию (по алфавиту) в качестве варианта "по умолчанию".

**<li>** Используя возможности визуального элемента (см. Дополнительные параметры -> Сортировка по убыванию), мы можем выстроить обратный порядок сортировки, то есть -- по убыванию:

![art_009_screen_3](https://kkadikin.ru/images/blog/art_009_screen_3.jpg)







**Пояснения к отчету:**

**<li>** Если все сделано верно, то при изменении кочечного отрезка времени с "27.09.2019" на "12.02.2019" в таблице "Список сотрудников" должно отобразиться два сотрудника, поскольку ближайшая дата приема 3-го сотрудника -- это "14.02.2019", а подобное значение не должно учитываться в расчетах в соответствии с указанным периодом:

![art_008_screen_5](https://kkadikin.ru/images/blog/art_008_screen_5.jpg)

То есть, по данным построенного отчета, в период с 14.01.2019 по 12.02.2019 в компании работало 2 человека на позиции Старшего менеджера, и при этом они оба продолжают работать в настоящий момент.

**<li>** Фильтр "Период" работает в обе стороны, и вернув конечную дату в значение "сегодня" (или более позднее), а затем изменив значение начального отрезка времени с "14.01.2019" на "01.06.2019", в таблице "Список сотрудников" должно будет отобразиться 11 записей, поскольку один из сотрудников покинул компанию накануне (31.07.2019):

![art_008_screen_6](https://kkadikin.ru/images/blog/art_008_screen_6.jpg)

**<li>** Фильтрация данных при помощи дополнительных срезов (например, "Должность"), также производится корректным образом, поскольку, при нажатии кнопки "Менеджер", таблица "Список сотрудников" отображает 9 записей, что соответствует значению меры "Менеджер, всего", визуализированному при помощи элемента "Card" ("Карточка").

![art_008_screen_7](https://kkadikin.ru/images/blog/art_008_screen_7.jpg)

> *Рвав-рвав, наша машина времени успешно введена в эксплуатацию, хотя, конечно, смотреть "что у тебя было" -- несколько грустновато...*
>
> *Бегу проверять свои заначки :-)*
>
> *Ваш Смайл*


**ДЛЯ ЛЮБИТЕЛЕЙ ПОНАЖИМАТЬ НА КНОПОЧКИ**

<iframe width="800" height="600" src="https://app.powerbi.com/view?r=eyJrIjoiNWRjYmEzNjYtNDFiYi00NmE5LWFhNjAtOTg0YWIwMzkwZGY1IiwidCI6IjE4YjFiOTZhLTk0MTQtNDE3MC1iNmNhLTZkODU3NTJlNTZmOCIsImMiOjZ9" frameborder="0" allowFullScreen="true"></iframe>